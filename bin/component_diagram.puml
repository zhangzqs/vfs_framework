@startuml
!define COMPONENT_DIAGRAM
!theme plain

skinparam backgroundColor White
skinparam componentBackgroundColor LightBlue
skinparam componentBorderColor DarkBlue
skinparam componentFontSize 12
skinparam componentStyle uml2

component [local_fs_d] as local_fs_d
note top of local_fs_d
  **Type**: backend.local
  --
  **Config**:
  • baseDir: D:/
end note

component [local_fs_z] as local_fs_z
note top of local_fs_z
  **Type**: backend.local
  --
  **Config**:
  • baseDir: Z:/
end note

component [metadata_cache_fs] as metadata_cache_fs
note top of metadata_cache_fs
  **Type**: backend.metadata_cache
  --
  **Config**:
  • originBackend: local_fs_z
  • cacheBackend: local_fs_d
  • cacheDir: /metadata_cache
  • maxCacheAge: 2400h
  • ... and 1 more
end note

component [block_cache_fs] as block_cache_fs
note top of block_cache_fs
  **Type**: backend.block_cache
  --
  **Config**:
  • originBackend: metadata_cache_fs
  • cacheBackend: local_fs_d
  • cacheDir: /block_cache
  • blockSize: 4194304
end note

component [union_fs] as union_fs
note top of union_fs
  **Type**: backend.union
  --
  **Config**:
  • items: [4 items]
end note

component [http_server] as http_server
note top of http_server
  **Type**: frontend.http
  --
  **Config**:
  • backend: union_fs
end note

' Dependencies
local_fs_z --> metadata_cache_fs : uses
local_fs_d --> metadata_cache_fs : uses
metadata_cache_fs --> block_cache_fs : uses
local_fs_d --> block_cache_fs : uses
local_fs_d --> union_fs : uses
local_fs_z --> union_fs : uses
metadata_cache_fs --> union_fs : uses
block_cache_fs --> union_fs : uses
union_fs --> http_server : uses

@enduml
