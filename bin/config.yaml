- name: local_fs_d
  type: backend.local
  config:
    baseDir: "D:/"

- name: local_fs_z
  type: backend.local
  config:
    baseDir: "Z:/"

- name: metadata_cache_fs
  type: backend.metadata_cache
  config:
    originBackend: local_fs_z
    cacheBackend: local_fs_d
    cacheDir: "/metadata_cache"

- name: block_cache_fs
  type: backend.block_cache
  config:
    originBackend: metadata_cache_fs
    cacheBackend: local_fs_d
    cacheDir: "/block_cache"
    blockSize: 4194304 # 4MB

- name: union_fs
  type: backend.union
  config:
    items:
      - backend: local_fs_d
        mountPath: /local_fs_d
      - backend: local_fs_z
        mountPath: /local_fs_z
      - backend: metadata_cache_fs
        mountPath: /metadata_cache_fs
      - backend: block_cache_fs
        mountPath: /block_cache_fs

- name: http_server
  type: frontend.http
  config:
    backend: union_fs
